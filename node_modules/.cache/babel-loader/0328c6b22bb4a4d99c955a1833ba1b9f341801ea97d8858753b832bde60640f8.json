{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-2c7a7cdc\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"homepage\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ApartmentsFilterForm = _resolveComponent(\"ApartmentsFilterForm\");\n  const _component_Container = _resolveComponent(\"Container\");\n  const _component_ApartmentsItem = _resolveComponent(\"ApartmentsItem\");\n  const _component_ApartmentsList = _resolveComponent(\"ApartmentsList\");\n  const _component_SectionWithHeaderSpacer = _resolveComponent(\"SectionWithHeaderSpacer\");\n  return _openBlock(), _createElementBlock(\"main\", _hoisted_1, [_createVNode(_component_SectionWithHeaderSpacer, null, {\n    default: _withCtx(() => [_createVNode(_component_Container, null, {\n      default: _withCtx(() => [_createVNode(_component_ApartmentsFilterForm, {\n        class: \"apartments-filter\",\n        onSubmit: $options.filter\n      }, null, 8 /* PROPS */, [\"onSubmit\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_Container, null, {\n      default: _withCtx(() => [!$options.filteredApartments.length ? (_openBlock(), _createElementBlock(\"p\", _hoisted_2, \"Ничего не найдено\")) : (_openBlock(), _createBlock(_component_ApartmentsList, {\n        key: 1,\n        items: $options.filteredApartments\n      }, {\n        apartment: _withCtx(({\n          apartment\n        }) => [(_openBlock(), _createBlock(_component_ApartmentsItem, {\n          key: apartment.id,\n          id: apartment.id,\n          descr: apartment.descr,\n          rating: apartment.rating,\n          imgSrc: apartment.imgUrl,\n          price: apartment.price\n        }, null, 8 /* PROPS */, [\"id\", \"descr\", \"rating\", \"imgSrc\", \"price\"]))]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"items\"]))]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createVNode","_component_SectionWithHeaderSpacer","default","_withCtx","_component_Container","_component_ApartmentsFilterForm","onSubmit","$options","filter","_","filteredApartments","length","_hoisted_2","_createBlock","_component_ApartmentsList","items","apartment","_component_ApartmentsItem","id","descr","rating","imgSrc","imgUrl","price"],"sources":["/Users/andrew/Documents/DOC/IT/Репозиторії/vue/vue-app/src/pages/Homepage.vue"],"sourcesContent":["<template>\n  <main class=\"homepage\">\n    <SectionWithHeaderSpacer>\n      <Container>\n        <ApartmentsFilterForm class=\"apartments-filter\" @submit=\"filter\" />\n      </Container>\n      <Container>\n        <p v-if=\"!filteredApartments.length\">Ничего не найдено</p>\n        <ApartmentsList v-else :items=\"filteredApartments\">\n          <template v-slot:apartment=\"{ apartment }\">\n            <ApartmentsItem\n              :key=\"apartment.id\"\n              :id=\"apartment.id\"\n              :descr=\"apartment.descr\"\n              :rating=\"apartment.rating\"\n              :imgSrc=\"apartment.imgUrl\"\n              :price=\"apartment.price\"\n            />\n          </template>\n        </ApartmentsList>\n      </Container>\n    </SectionWithHeaderSpacer>\n  </main>\n</template>\n\n<script>\nimport ApartmentsList from '../components/apartment/ApartmentsList';\nimport ApartmentsItem from '../components/apartment/ApartmentsItem';\nimport ApartmentsFilterForm from '../components/apartment/ApartmentsFilterForm';\nimport Container from '../components/shared/Container';\nimport { getApartmentsList } from '../services/apartments.service';\nimport SectionWithHeaderSpacer from '../components/shared/SectionWithHeaderSpacer';\n\nexport default {\n  name: 'App',\n  components: {\n    ApartmentsList,\n    ApartmentsItem,\n    ApartmentsFilterForm,\n    Container,\n    SectionWithHeaderSpacer,\n  },\n  data() {\n    return {\n      text: '',\n      apartments: [],\n      filters: {\n        city: '',\n        price: 0,\n      },\n    };\n  },\n  computed: {\n    filteredApartments() {\n      return this.filterByCityName(this.filterByPrice(this.apartments));\n    },\n  },\n  async created() {\n    try {\n      const { data } = await getApartmentsList();\n      this.apartments = data;\n    } catch (error) {\n      console.error(error);\n    }\n  },\n  methods: {\n    filter({ city, price }) {\n      this.filters.city = city;\n      this.filters.price = price;\n    },\n    filterByCityName(apartments) {\n      if (!this.filters.city) return apartments;\n\n      return apartments.filter((apartment) => {\n        return apartment.location.city === this.filters.city;\n      });\n    },\n    filterByPrice(apartments) {\n      if (!this.filters.price) return apartments;\n\n      return apartments.filter((apartment) => {\n        return apartment.price >= this.filters.price;\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.apartments-filter {\n  margin-bottom: 40px;\n}\n</style>\n"],"mappings":";;;EACQA,KAAK,EAAC;AAAU;;EADxBC,GAAA;AAAA;;;;;;;uBACEC,mBAAA,CAqBO,QArBPC,UAqBO,GApBLC,YAAA,CAmB0BC,kCAAA;IArB9BC,OAAA,EAAAC,QAAA,CAGM,MAEY,CAFZH,YAAA,CAEYI,oBAAA;MALlBF,OAAA,EAAAC,QAAA,CAIQ,MAAmE,CAAnEH,YAAA,CAAmEK,+BAAA;QAA7CT,KAAK,EAAC,mBAAmB;QAAEU,QAAM,EAAEC,QAAA,CAAAC;;MAJjEC,CAAA;QAMMT,YAAA,CAcYI,oBAAA;MApBlBF,OAAA,EAAAC,QAAA,CAOQ,MAA0D,C,CAAhDI,QAAA,CAAAG,kBAAkB,CAACC,MAAM,I,cAAnCb,mBAAA,CAA0D,KAPlEc,UAAA,EAO6C,mBAAiB,M,cACtDC,YAAA,CAWiBC,yBAAA;QAnBzBjB,GAAA;QAQgCkB,KAAK,EAAER,QAAA,CAAAG;;QACZM,SAAS,EAAAb,QAAA,CACxB,CAOE;UAR0Ba;QAAS,Q,cACrCH,YAAA,CAOEI,yBAAA;UANCpB,GAAG,EAAEmB,SAAS,CAACE,EAAE;UACjBA,EAAE,EAAEF,SAAS,CAACE,EAAE;UAChBC,KAAK,EAAEH,SAAS,CAACG,KAAK;UACtBC,MAAM,EAAEJ,SAAS,CAACI,MAAM;UACxBC,MAAM,EAAEL,SAAS,CAACM,MAAM;UACxBC,KAAK,EAAEP,SAAS,CAACO;;QAhBhCd,CAAA;;MAAAA,CAAA;;IAAAA,CAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}