{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-2fa47204\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"reviews\"\n};\nconst _hoisted_2 = {\n  class: \"reviews__heading\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"reviews__title\"\n}, \"Суммарный рейтинг\", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"reviews__rating\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Rating = _resolveComponent(\"Rating\");\n  const _component_ReviewsItem = _resolveComponent(\"ReviewsItem\");\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"span\", null, _toDisplayString($options.amountOfReviews) + \" отзыв(ов)\", 1 /* TEXT */), _createVNode(_component_Rating, {\n    rating: $options.totalRating\n  }, null, 8 /* PROPS */, [\"rating\"])])]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.currentReviews, review => {\n    return _openBlock(), _createBlock(_component_ReviewsItem, {\n      key: review.author,\n      review: review\n    }, null, 8 /* PROPS */, [\"review\"]);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.toggleReviews && $options.toggleReviews(...args)),\n    class: \"reviews__show-more\"\n  }, _toDisplayString($options.buttonText), 1 /* TEXT */)]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$options","amountOfReviews","_createVNode","_component_Rating","rating","totalRating","_Fragment","_renderList","currentReviews","review","_createBlock","_component_ReviewsItem","key","author","onClick","_cache","args","toggleReviews","buttonText"],"sources":["/Users/andrew/Documents/DOC/IT/Репозиторії/vue/vue-app/src/components/reviews/index.vue"],"sourcesContent":["<template>\n  <section class=\"reviews\">\n    <div class=\"reviews__heading\">\n      <h2 class=\"reviews__title\">Суммарный рейтинг</h2>\n      <div class=\"reviews__rating\">\n        <span>{{ amountOfReviews }} отзыв(ов)</span>\n        <Rating :rating=\"totalRating\" />\n      </div>\n    </div>\n    <ReviewsItem\n      v-for=\"review in currentReviews\"\n      :key=\"review.author\"\n      :review=\"review\"\n    />\n    <button @click=\"toggleReviews\" class=\"reviews__show-more\">\n      {{ buttonText }}\n    </button>\n  </section>\n</template>\n\n<script>\nimport ReviewsItem from './reviews-item'\nimport Rating from '../StarRating'\n\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: 'Reviews',\n  components: {\n    ReviewsItem,\n    Rating,\n  },\n  props: {\n    reviews: {\n      type: Array,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      reviewsLimit: 2,\n    }\n  },\n  computed: {\n    totalRating() {\n      const total = this.reviews.reduce((acc, review) => acc + review.rating, 0)\n\n      return total / this.reviews.length\n    },\n    amountOfReviews() {\n      return this.reviews.length\n    },\n    currentReviews() {\n      return this.reviews.slice(0, this.reviewsLimit)\n    },\n    buttonText() {\n      return this.reviewsLimit === this.reviews.length\n        ? 'Свернуть'\n        : 'Читать еще...'\n    },\n  },\n  methods: {\n    toggleReviews() {\n      if (this.reviewsLimit === this.reviews.length) {\n        this.reviewsLimit = 2\n        return\n      }\n\n      this.reviewsLimit = this.reviews.length\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../assets/scss/variables';\n\n.reviews {\n  margin-top: 20px;\n  background: $card-bg;\n  padding: 0 2px;\n\n  &__heading {\n    padding: 20px 20px 10px;\n  }\n\n  &__title {\n    text-transform: uppercase;\n    font-size: 20px;\n    font-weight: 700;\n    margin-bottom: 10px;\n  }\n\n  &__rating {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  &__show-more {\n    background: none;\n    border: none;\n    cursor: pointer;\n    width: 100%;\n    padding: 12px;\n    font-family: inherit;\n    font-size: 16px;\n  }\n}\n</style>\n"],"mappings":";;;EACWA,KAAK,EAAC;AAAS;;EACjBA,KAAK,EAAC;AAAkB;gEAC3BC,mBAAA,CAAiD;EAA7CD,KAAK,EAAC;AAAgB,GAAC,mBAAiB;;EACvCA,KAAK,EAAC;AAAiB;;;;uBAHhCE,mBAAA,CAgBU,WAhBVC,UAgBU,GAfRF,mBAAA,CAMM,OANNG,UAMM,GALJC,UAAiD,EACjDJ,mBAAA,CAGM,OAHNK,UAGM,GAFJL,mBAAA,CAA4C,cAAAM,gBAAA,CAAnCC,QAAA,CAAAC,eAAe,IAAG,YAAU,iBACrCC,YAAA,CAAgCC,iBAAA;IAAvBC,MAAM,EAAEJ,QAAA,CAAAK;EAAW,oC,wBAGhCX,mBAAA,CAIEY,SAAA,QAbNC,WAAA,CAUuBP,QAAA,CAAAQ,cAAc,EAAxBC,MAAM;yBADfC,YAAA,CAIEC,sBAAA;MAFCC,GAAG,EAAEH,MAAM,CAACI,MAAM;MAClBJ,MAAM,EAAEA;;kCAEXhB,mBAAA,CAES;IAFAqB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEhB,QAAA,CAAAiB,aAAA,IAAAjB,QAAA,CAAAiB,aAAA,IAAAD,IAAA,CAAa;IAAExB,KAAK,EAAC;sBAChCQ,QAAA,CAAAkB,UAAU,iB"},"metadata":{},"sourceType":"module","externalDependencies":[]}